<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>Unity复刻尼尔：机械纪元-模型导出</title>
    <link href="/2022/03/07/Unity%E5%A4%8D%E5%88%BB%E5%B0%BC%E5%B0%94%EF%BC%9A%E6%9C%BA%E6%A2%B0%E7%BA%AA%E5%85%83-%E6%A8%A1%E5%9E%8B%E5%AF%BC%E5%87%BA/"/>
    <url>/2022/03/07/Unity%E5%A4%8D%E5%88%BB%E5%B0%BC%E5%B0%94%EF%BC%9A%E6%9C%BA%E6%A2%B0%E7%BA%AA%E5%85%83-%E6%A8%A1%E5%9E%8B%E5%AF%BC%E5%87%BA/</url>
    
    <content type="html"><![CDATA[<meta name="referrer" content="no-referrer"/><p><strong>申明：本文为笔记，仅供学习交流，严禁用于商业用途。</strong></p><ul><li>购买下载尼尔游戏工程</li><li>下载Noesis提取工具：<a href="https://richwhitehouse.com/index.php?content=inc_projects.php&showproject=91">下载地址</a></li><li>运行Noesis，找到游戏工程下data-&gt;data006.cpk和data100.cpk(包含dlc模型数据)文件，在Noesis内双击这两个文件进行解包数据</li></ul><p><img src="https://cdn.nlark.com/yuque/0/2022/png/21441051/1646617728531-68aabe20-d8f8-464e-bd4a-a6e8752f74b4.png#clientId=u98df1ac2-2012-4&from=paste&height=271&id=ub2bc749f&margin=%5Bobject%20Object%5D&name=image.png&originHeight=777&originWidth=1160&originalType=binary&ratio=1&size=78051&status=done&style=none&taskId=u2c109d21-5bb1-41e4-968d-54e4c30f8e1&width=405" alt="image.png">，</p><ul><li><p>解包后pl文件夹里的数据<img src="https://cdn.nlark.com/yuque/0/2022/png/21441051/1646472686158-78746b57-8ca6-4170-90da-9f1978864cdf.png#clientId=u3c7b96c2-e40b-4&from=paste&height=102&id=u29aa36a7&margin=%5Bobject%20Object%5D&name=image.png&originHeight=183&originWidth=481&originalType=binary&ratio=1&size=9796&status=done&style=none&taskId=u7c430dc7-161c-476d-ad86-9fed02277dd&width=269" alt="image.png"></p></li><li><p>在Noesis打开pl0000.dtt文件就可以预览模型了</p></li></ul><p><img src="https://cdn.nlark.com/yuque/0/2022/png/21441051/1646617791683-801e6a25-6a29-4b75-8bc9-9dbc3cf275ed.png#clientId=u98df1ac2-2012-4&from=paste&height=303&id=u62ca771f&margin=%5Bobject%20Object%5D&name=image.png&originHeight=778&originWidth=1154&originalType=binary&ratio=1&size=187256&status=done&style=none&taskId=u72d88b87-9970-435d-ac2f-3ca5b98a597&width=450" alt="image.png"><img src="https://cdn.nlark.com/yuque/0/2022/png/21441051/1646617916817-8ca32abe-8036-448a-a487-8df2643344bf.png#clientId=u98df1ac2-2012-4&from=paste&height=301&id=udcc88d2e&margin=%5Bobject%20Object%5D&name=image.png&originHeight=775&originWidth=1158&originalType=binary&ratio=1&size=204817&status=done&style=none&taskId=u4129e6bd-dc4f-41a8-b2a7-b29e1bc2946&width=450" alt="image.png"></p><ul><li>选择FIle-&gt;Export导出模型数据<img src="https://cdn.nlark.com/yuque/0/2022/png/21441051/1646618162375-c738a153-9809-458f-877a-c7a8e526969b.png#clientId=u98df1ac2-2012-4&from=paste&height=196&id=u45a01a1f&margin=%5Bobject%20Object%5D&name=image.png&originHeight=196&originWidth=193&originalType=binary&ratio=1&size=5851&status=done&style=none&taskId=u69d42b5f-35b5-4ecd-b650-99310cd93cd&width=193" alt="image.png">，选择导出FBX格式<img src="https://cdn.nlark.com/yuque/0/2022/png/21441051/1646618099627-23ce161c-3a3c-4df1-adfe-6f37c82ed74a.png#clientId=u98df1ac2-2012-4&from=paste&height=318&id=u3ff8ee1b&margin=%5Bobject%20Object%5D&name=image.png&originHeight=471&originWidth=475&originalType=binary&ratio=1&size=19551&status=done&style=none&taskId=u5091b8d2-419e-4902-b96f-0f1187affd1&width=321" alt="image.png">，得到导出后的数据<img src="https://cdn.nlark.com/yuque/0/2022/png/21441051/1646473678938-caf57b88-e7b9-4fd4-8841-fe91a7f6727c.png#clientId=u3c7b96c2-e40b-4&from=paste&height=318&id=uec9aef3e&margin=%5Bobject%20Object%5D&name=image.png&originHeight=318&originWidth=811&originalType=binary&ratio=1&size=124133&status=done&style=none&taskId=u15b54ddc-fa3a-4c16-a177-b86c59e57ff&width=811" alt="image.png"></li><li>把fxb导到unity引擎看看效果<img src="https://cdn.nlark.com/yuque/0/2022/png/21441051/1646474097693-2842c9f6-fc1a-40f9-a60f-251fa8ca9f20.png#clientId=u3c7b96c2-e40b-4&from=paste&height=341&id=ufaa42c44&margin=%5Bobject%20Object%5D&name=image.png&originHeight=895&originWidth=1585&originalType=binary&ratio=1&size=394433&status=done&style=none&taskId=u15cc12d4-49dd-442d-9c5b-3797f61dbee&width=604" alt="image.png"></li><li>最后贴上材质球<img src="https://cdn.nlark.com/yuque/0/2022/png/21441051/1646474394778-2e28e64b-9d54-4317-b4b9-51a6cdb78578.png#clientId=u3c7b96c2-e40b-4&from=paste&height=977&id=u07577c67&margin=%5Bobject%20Object%5D&name=image.png&originHeight=977&originWidth=1870&originalType=binary&ratio=1&size=2845094&status=done&style=none&taskId=ueb1655f2-9d50-40c3-9636-a33f35179e5&width=1870" alt="image.png"></li></ul><p>备注：</p><ol><li>导出的时候可以选择dae格式导出，dae格式导出会带上材质信息，然后用3dmax软件再导出fbx</li><li>模型是同时包含多个时装的，在用的时候需要手动隐藏节点</li><li>直接导出的fbx数据导入到unity时，大小单位不一致，需要在unity模型设置里去掉Convert Units</li></ol>]]></content>
    
    
    <categories>
      
      <category>Unity复刻尼尔：机械纪元</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Unity</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Unity动态适配相机FOV</title>
    <link href="/2019/05/14/Unity%E5%8A%A8%E6%80%81%E9%80%82%E9%85%8D%E7%9B%B8%E6%9C%BAFOV/"/>
    <url>/2019/05/14/Unity%E5%8A%A8%E6%80%81%E9%80%82%E9%85%8D%E7%9B%B8%E6%9C%BAFOV/</url>
    
    <content type="html"><![CDATA[<p>根据设置的视野，在不同分辨率下自动调整相机FOV </p><span id="more"></span><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-keyword">using</span> UnityEngine;<br> <br><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span><br><span class="hljs-comment"><span class="hljs-doctag">///</span> 相机FOV自动调整</span><br><span class="hljs-comment"><span class="hljs-doctag">///</span> 根据设置的视野自动调整相机FOV</span><br><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">CameraFOVAdjust</span> : <span class="hljs-title">MonoBehaviour</span><br>&#123;<br>    [<span class="hljs-meta">Tooltip(<span class="hljs-string">&quot;距离&quot;</span>)</span>]<br>    <span class="hljs-keyword">public</span> <span class="hljs-built_in">float</span> distance = <span class="hljs-number">20f</span>;<br>    [<span class="hljs-meta">Tooltip(<span class="hljs-string">&quot;宽度&quot;</span>)</span>]<br>    <span class="hljs-keyword">public</span> <span class="hljs-built_in">float</span> frustumWidth = <span class="hljs-number">40.3f</span>;<br>    [<span class="hljs-meta">Tooltip(<span class="hljs-string">&quot;限制最大的FOV值&quot;</span>)</span>]<br>    <span class="hljs-keyword">public</span> <span class="hljs-built_in">float</span> maxFOV = <span class="hljs-number">65</span>;<br> <br>    <span class="hljs-keyword">private</span> Camera mainCamera;<br>    <span class="hljs-keyword">private</span> <span class="hljs-built_in">float</span> cameraAspect;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Start</span>()</span><br>    &#123;<br>        mainCamera = Camera.main;<br>        CameraAdjust();<br>    &#125;<br> <br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Update</span>()</span><br>    &#123;<br><span class="hljs-meta">#<span class="hljs-keyword">if</span> UNITY_EDITOR</span><br>        CameraAdjust();<br><span class="hljs-meta">#<span class="hljs-keyword">endif</span></span><br>    &#125;<br> <br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> 动态调整相机FOV，使不同分辨率下相机能看到相同的宽度视野</span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span><br>    [<span class="hljs-meta">ContextMenu(<span class="hljs-string">&quot;执行&quot;</span>)</span>]<br>    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">CameraAdjust</span>()</span><br>    &#123;<br>        <span class="hljs-keyword">if</span> (mainCamera == <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span>;<br>        <span class="hljs-comment">//分辨率发生改变时才需要重新刷新</span><br>        <span class="hljs-keyword">if</span> (cameraAspect.Equals(mainCamera.aspect)) <span class="hljs-keyword">return</span>;<br> <br>        cameraAspect = mainCamera.aspect;<br>        <span class="hljs-comment">//计算Fov</span><br>        <span class="hljs-built_in">float</span> _fov = <span class="hljs-number">2</span> * Mathf.Atan(frustumWidth / cameraAspect * <span class="hljs-number">0.5f</span> / distance) * Mathf.Rad2Deg;<br>        <span class="hljs-comment">//防止Fov过大，设置最大值</span><br>        <span class="hljs-keyword">if</span> (maxFOV &gt; <span class="hljs-number">0</span> &amp;&amp;_fov &gt; maxFOV)<br>        &#123;<br>            _fov = maxFOV;<br>        &#125;<br>        mainCamera.fieldOfView = _fov;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Unity开发笔记</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Unity</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
