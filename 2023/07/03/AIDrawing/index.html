

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/headIcon.jpg">
  <link rel="icon" href="/img/headIcon.jpg">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="Hubenqi">
  <meta name="keywords" content="">
  
    <meta name="description" content="现在主流的AI绘画分别是Stable Diffusion和Midjourney。 Stable DiffusionSD特点 硬件要求较高：需要独立显卡+6g显存。  部署相对麻烦：自己从头部布置略微麻烦，要求一定编程知识，但我们可以使用整合包。  使用有一定难度：SD的界面有很多内容，可调参数多，需要一定学习过程。  上限很高&#x2F;下限低：需要了解各种参数配置和使用才能跑出好看的图片。  可">
<meta property="og:type" content="article">
<meta property="og:title" content="AI绘画尝试">
<meta property="og:url" content="https://hubenqi.github.io/2023/07/03/AIDrawing/index.html">
<meta property="og:site_name" content="hubenqi">
<meta property="og:description" content="现在主流的AI绘画分别是Stable Diffusion和Midjourney。 Stable DiffusionSD特点 硬件要求较高：需要独立显卡+6g显存。  部署相对麻烦：自己从头部布置略微麻烦，要求一定编程知识，但我们可以使用整合包。  使用有一定难度：SD的界面有很多内容，可调参数多，需要一定学习过程。  上限很高&#x2F;下限低：需要了解各种参数配置和使用才能跑出好看的图片。  可">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://hubenqi.github.io/img/indexImg/ai02.png">
<meta property="article:published_time" content="2023-07-03T12:19:52.000Z">
<meta property="article:modified_time" content="2023-12-25T08:11:06.026Z">
<meta property="article:author" content="Hubenqi">
<meta property="article:tag" content="绘画">
<meta property="article:tag" content="AI">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://hubenqi.github.io/img/indexImg/ai02.png">
  
  
  <title>AI绘画尝试 - hubenqi</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    var CONFIG = {"hostname":"hubenqi.github.io","root":"/","version":"1.8.14","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml"};
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>

  
<meta name="generator" content="Hexo 6.0.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>Hubenqi Blog</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                首页
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                归档
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                分类
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                标签
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                关于
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              &nbsp;<i class="iconfont icon-search"></i>&nbsp;
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/bg/nier05.jpg') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="AI绘画尝试"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2023-07-03 20:19" pubdate>
          2023年7月3日 晚上
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          3.3k 字
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          28 分钟
        
      </span>
    

    
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">AI绘画尝试</h1>
            
            <div class="markdown-body">
              
              <p>现在主流的AI绘画分别是Stable Diffusion和Midjourney。</p>
<h1 id="Stable-Diffusion"><a href="#Stable-Diffusion" class="headerlink" title="Stable Diffusion"></a>Stable Diffusion</h1><h4 id="SD特点"><a href="#SD特点" class="headerlink" title="SD特点"></a>SD特点</h4><ul>
<li><p>硬件要求较高：需要独立显卡+6g显存。</p>
</li>
<li><p>部署相对麻烦：自己从头部布置略微麻烦，要求一定编程知识，但我们可以使用整合包。</p>
</li>
<li><p>使用有一定难度：SD的界面有很多内容，可调参数多，需要一定学习过程。</p>
</li>
<li><p>上限很高&#x2F;下限低：需要了解各种参数配置和使用才能跑出好看的图片。</p>
</li>
<li><p>可控性极强：插件多，LORA多，可以几乎随心所欲地换风格和形态。</p>
</li>
<li><p>可完全本地运行：运行全程可无需联网，数据仅存在本地，拥有硬件即可无限使用。</p>
</li>
<li><p>可以训练模型：可以“炼丹”，训练只属于自己的数据库，让AI完全按照自己的想法去塑造目标风格的内容。</p>
</li>
<li><p>本地化部署。</p>
<h4 id="部署"><a href="#部署" class="headerlink" title="部署"></a>部署</h4><p>推荐使用<a target="_blank" rel="noopener" href="https://space.bilibili.com/12566101">秋葉aaaki</a>的整合包，<a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1iM4y1y7oA/?spm_id_from=333.999.0.0&vd_source=c30cd6be1301104cd6c8745f7caa6f15">链接和教程</a>。<br><img src="/img/AIDrawing/limit_0.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<h4 id="模型网站"><a href="#模型网站" class="headerlink" title="模型网站"></a>模型网站</h4></li>
<li><p><a target="_blank" rel="noopener" href="https://civitai.com/">C站</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://huggingface.co/models">huggingface</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.liblib.art/?from=aigc.cn">哩布哩布AI</a></p>
<h4 id="尝试"><a href="#尝试" class="headerlink" title="尝试"></a>尝试</h4><p><img src="/img/AIDrawing/limit_1.png" srcset="/img/loading.gif" lazyload alt="img"><br>masterpiece, best quality, 8k, cinematic light, ultra high res, chibi, 1girl, bag, backpack, solo, multicolored hair, shorts, star , (symbol), blue hair, hood, sitting, pink hair, star hair ornament, head rest, socks, pink footwear, black shorts, hair ornament, full body, boots, bandaid, gradient, twintails, jacket,<br>Negative prompt: EasyNegative, badhandv4, (worst quality, low quality:1.3), logo, watermark, signature, text<br>Steps: 20, Sampler: DPM++ 2M Karras, CFG scale: 7, Seed: 2370592487, Size: 512x768, Model hash: 4199bcdd14, Model: revAnimated_v122, Denoising strength: 0.5, Clip skip: 2, Hires upscale: 2, Hires upscaler: Latent, AddNet Enabled: True, AddNet Module 1: LoRA, AddNet Model 1: Q版角色– niji风格_v1.0(65e9481acf10), AddNet Weight A 1: 1, AddNet Weight B 1: 1, Version: v1.4.0<br>Used embeddings: EasyNegative [119b]</p>
</li>
</ul>
<hr>
<p><img src="/img/AIDrawing/limit_2.png" srcset="/img/loading.gif" lazyload alt="img"><br>masterpiece, best quality, 3d,3D toys,c4d, blender, 3d models,<br>1boy, full body, weapon, sword, solo, looking at viewer, standing, Chinese sword, gradient, katana, gradient background,<br>fashion trends, toys,IP by pop mart, fashionable blind box,vivid colors, high resolution, lots of details,Super Details,(chibi:1.1)<br>simple background, clean Background,soft smooth lighting<br>Negative prompt: (worst quality:1.5), (low quality:1.5), (normal quality:1.5), lowres, bad anatomy, bad hands, vaginas in breasts, ((monochrome)), ((grayscale)), collapsed eyeshadow, multiple eyeblows, (cropped), oversaturated, extra limb, missing limbs, deformed hands, long neck, long body, imperfect, (bad hands), signature, watermark, username, artist name, conjoined fingers, deformed fingers, ugly eyes, imperfect eyes, skewed eyes, unnatural face, unnatural body, error, painting by bad-artist<br>Steps: 20, Sampler: Euler a, CFG scale: 8, Seed: 154820812, Size: 512x700, Model hash: 580174dabb, Model: duchaitenniji_cuteV235, Denoising strength: 0.7, Clip skip: 2, ENSD: 31337, Hires upscale: 2, Hires upscaler: R-ESRGAN 4x+, AddNet Enabled: True, AddNet Module 1: LoRA, AddNet Model 1: vv手办风格_1.0(eb2353298953), AddNet Weight A 1: 0.3, AddNet Weight B 1: 0.3, AddNet Module 2: LoRA, AddNet Model 2: hipoly_3dcg_v7-epoch-000012(28c410185e6b), AddNet Weight A 2: 0.35, AddNet Weight B 2: 0.35, Version: v1.4.0</p>
<h1 id="Midjourney"><a href="#Midjourney" class="headerlink" title="Midjourney"></a>Midjourney</h1><h4 id="MJ特点"><a href="#MJ特点" class="headerlink" title="MJ特点"></a>MJ特点</h4><ul>
<li><p>无硬件要求：但需要科学上网，需要注册discord。</p>
</li>
<li><p>使用难度较低。</p>
</li>
<li><p>上限低&#x2F;下限高：无特殊操作的情况下，Mid也能够立刻产出比较讨喜的图片。但是能够把控的范围也更小。容易上手，容易精通，但是精通之后上限比较低。</p>
</li>
<li><p>可控性极弱：没有插件，没有LORA，产出的画面风格非常固定，自由度较低。</p>
</li>
<li><p>必须联网运行：运行全程联网，数据存在服务器上，本地保存相对麻烦，必须科学上网。</p>
</li>
<li><p>无法自定义自己想要的模型：只能用官方提供的。</p>
</li>
<li><p>收费：最低8美元一个月。</p>
<h4 id="后缀参数"><a href="#后缀参数" class="headerlink" title="后缀参数"></a>后缀参数</h4></li>
<li><p>–v：版本选择</p>
</li>
<li><p>–style：风格选择</p>
</li>
<li><p>–ar：长宽比，例：A cute little dog –v 5 –ar 3:2</p>
</li>
<li><p>–c：多样性，这个参数可以影响默认生成的四张图之间的差异大小，数值范围是 0～100，数值越大，变化越大。例：A cute little dog –c 80</p>
</li>
<li><p>–niji：二次元模型</p>
</li>
<li><p>–no：排除内容</p>
<h4 id="尝试-1"><a href="#尝试-1" class="headerlink" title="尝试"></a>尝试</h4><p><img src="/img/AIDrawing/limit_3.png" srcset="/img/loading.gif" lazyload alt="img"><br>3D toys, ip, Cyberpunk style, cute little girl, mask, simple background, best quality, c4d, blender, 3d models, toys, full body, looking at viewer, Super Details, clean Background, IP by pop mart, mockup blind box, vivid colors, street style, high resolution, lots of details, art –ar 3:4 –niji 5 –style expressive –q 0.5 –s 100</p>
</li>
</ul>
<hr>
<p><img src="/img/AIDrawing/limit_4.png" srcset="/img/loading.gif" lazyload alt="img"><br>zodiac,Dragon,anthropomorphic,fashionable outfits,handsome looks,standing character,soft smooth lighting,soft pastel colors,skottie young,3d blender render,polycount,modular constructivism,pop surrealism,physically based rendering –niji 5 –style expressive –q 2</p>
<hr>
<p>ai生成三视图的关键只有三句话“enerate three views, namely the front viewthe side view and the back view，full body”。 第一句话是生成三视图，为了确保安全第二句话生成前、侧、后三个视图，第三句话就是把小人约束在画面里。</p>

              
            </div>
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/%E7%BB%98%E7%94%BB/" class="category-chain-item">绘画</a>
  
  

      </span>
    
  
</span>

    </div>
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/%E7%BB%98%E7%94%BB/">#绘画</a>
      
        <a href="/tags/AI/">#AI</a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>AI绘画尝试</div>
      <div>https://hubenqi.github.io/2023/07/03/AIDrawing/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>作者</div>
          <div>Hubenqi</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>发布于</div>
          <div>2023年7月3日</div>
        </div>
      
      
      <div class="license-meta-item">
        <div>许可协议</div>
        <div>
          
            
            
              <a target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
              <span class="hint--top hint--rounded" aria-label="BY - 署名">
                <i class="iconfont icon-by"></i>
              </span>
              </a>
            
          
        </div>
      </div>
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2023/07/27/blender-note02/" title="Blender练习-02">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">Blender练习-02</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2023/03/01/drawing%20exercise/" title="绘画学习记录">
                        <span class="hidden-mobile">绘画学习记录</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
  <article id="comments" lazyload>
    

  </article>


          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  






    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
    </div>
  
  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.0/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>






  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.18.0/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      headingSelector : CONFIG.toc.headingSelector || 'h1,h2,h3,h4,h5,h6',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      collapseDepth   : CONFIG.toc.collapseDepth || 0,
      scrollSmooth    : true,
      headingsOffset  : -boardTop
    });
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }
  });
</script>


  <script>
  (function() {
    var enableLang = CONFIG.code_language.enable && CONFIG.code_language.default;
    var enableCopy = CONFIG.copy_btn;
    if (!enableLang && !enableCopy) {
      return;
    }

    function getBgClass(ele) {
      return Fluid.utils.getBackgroundLightness(ele) >= 0 ? 'code-widget-light' : 'code-widget-dark';
    }

    var copyTmpl = '';
    copyTmpl += '<div class="code-widget">';
    copyTmpl += 'LANG';
    copyTmpl += '</div>';
    jQuery('.markdown-body pre').each(function() {
      var $pre = jQuery(this);
      if ($pre.find('code.mermaid').length > 0) {
        return;
      }
      if ($pre.find('span.line').length > 0) {
        return;
      }

      var lang = '';

      if (enableLang) {
        lang = CONFIG.code_language.default;
        if ($pre[0].children.length > 0 && $pre[0].children[0].classList.length >= 2 && $pre.children().hasClass('hljs')) {
          lang = $pre[0].children[0].classList[1];
        } else if ($pre[0].getAttribute('data-language')) {
          lang = $pre[0].getAttribute('data-language');
        } else if ($pre.parent().hasClass('sourceCode') && $pre[0].children.length > 0 && $pre[0].children[0].classList.length >= 2) {
          lang = $pre[0].children[0].classList[1];
          $pre.parent().addClass('code-wrapper');
        } else if ($pre.parent().hasClass('markdown-body') && $pre[0].classList.length === 0) {
          $pre.wrap('<div class="code-wrapper"></div>');
        }
        lang = lang.toUpperCase().replace('NONE', CONFIG.code_language.default);
      }
      $pre.append(copyTmpl.replace('LANG', lang).replace('code-widget">',
        getBgClass($pre[0]) + (enableCopy ? ' code-widget copy-btn" data-clipboard-snippet><i class="iconfont icon-copy"></i>' : ' code-widget">')));

      if (enableCopy) {
        Fluid.utils.createScript('https://lib.baomitu.com/clipboard.js/2.0.10/clipboard.min.js', function() {
          var clipboard = new window.ClipboardJS('.copy-btn', {
            target: function(trigger) {
              var nodes = trigger.parentNode.childNodes;
              for (var i = 0; i < nodes.length; i++) {
                if (nodes[i].tagName === 'CODE') {
                  return nodes[i];
                }
              }
            }
          });
          clipboard.on('success', function(e) {
            e.clearSelection();
            e.trigger.innerHTML = e.trigger.innerHTML.replace('icon-copy', 'icon-success');
            setTimeout(function() {
              e.trigger.innerHTML = e.trigger.innerHTML.replace('icon-success', 'icon-copy');
            }, 2000);
          });
        });
      }
    });
  })();
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/js/local-search.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div>
  </noscript>
</body>
</html>
